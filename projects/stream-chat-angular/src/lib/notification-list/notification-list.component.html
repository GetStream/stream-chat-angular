<div
  data-testid="notification-list"
  class="str-chat str-chat__theme-{{
    theme$ | async
  }} str-chat__list-notifications"
>
  @for (notification of notifications$ | async; track notification.id) {
    <ng-template #notificationContent>
      @if (notification.text !== undefined) {
        <div data-testclass="notification-content">
          {{ notification.text | translate: notification.translateParams }}
        </div>
      }
      @if (notification.template !== undefined) {
        <ng-container
          *ngTemplateOutlet="
            notification.template;
            context: getNotificationContentContext(notification)
          "
        />
      }
    </ng-template>
    <ng-container
      *ngTemplateOutlet="
        (customTemplatesService.notificationTemplate$ | async) ||
          defaultNotification;
        context: { type: notification.type, content: notificationContent }
      "
    />
  }
</div>

<ng-template #defaultNotification let-type="type" let-content="content">
  <stream-notification [type]="type" [content]="content" />
</ng-template>
