<div class="str-chat__thread-container">
  <ng-container
    *ngTemplateOutlet="
      (customTemplatesService.threadHeaderTemplate$ | async) ||
        defaultThreadHeader;
      context: getThreadHeaderContext()
    "
  ></ng-container>
  <ng-content></ng-content>
</div>

<ng-template
  #defaultThreadHeader
  let-parentMessage="parentMessage"
  let-closeThreadHandler="closeThreadHandler"
>
  <div class="str-chat__thread-header">
    <div class="str-chat__thread-header-details">
      <div class="str-chat__thread-header-name" translate>
        streamChat.Thread
      </div>
      <div
        class="str-chat__thread-header-channel-name"
        data-testid="channel-name"
      >
        {{ channelName }}
      </div>
    </div>
    <button
      class="str-chat__square-button str-chat__close-thread-button"
      data-testid="close-button"
      (click)="closeThreadHandler()"
    >
      <stream-icon-placeholder
        icon="close-no-outline"
      ></stream-icon-placeholder>
    </button>
  </div>
</ng-template>
